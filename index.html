<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Government Links JSON Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 min-h-screen flex flex-col items-center justify-center p-4">
    <div class="max-w-2xl w-full bg-white rounded-xl shadow-lg p-6 md:p-8">
        <h1 class="text-2xl md:text-3xl font-bold text-gray-800 mb-2">ðŸ“‹ Sarkari Link JSON Tool</h1>
        <p class="text-gray-600 mb-6">Generated JSON will now include the <b>"id"</b> field for your database.</p>
        
        <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
            <div class="flex items-center justify-between">
                <span class="text-blue-800 font-medium">Links in Queue:</span>
                <span class="bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-semibold" id="linkCount">0</span>
            </div>
        </div>

        <div class="border border-gray-200 rounded-lg mb-6 max-h-96 overflow-y-auto bg-gray-900 p-4">
            <div class="text-green-400 font-mono text-xs" id="jsonPreview">
                </div>
        </div>

        <button id="downloadBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition duration-200 flex items-center justify-center gap-2 text-lg shadow-lg">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
            </svg>
            Download links.json (with IDs)
        </button>
    </div>

    <script>
        (function() {
            // Data with IDs included
            const governmentLinks = [
                {
                    "id": "1",
                    "title": "GST Portal",
                    "url": "https://www.gst.gov.in",
                    "category": "Tax & Business",
                    "description": "Official portal for GST registration, returns filing, and tax payments.",
                    "keywords": ["gst verify", "gst number check", "gst registration"]
                },
                {
                    "id": "2",
                    "title": "Income Tax",
                    "url": "https://www.incometax.gov.in",
                    "category": "Tax & Business",
                    "description": "File Income Tax Returns (ITR) and check refund status.",
                    "keywords": ["itr", "tax refund", "pan link"]
                },
                {
                    "id": "3",
                    "title": "UIDAI (Aadhaar)",
                    "url": "https://uidai.gov.in",
                    "category": "Identity",
                    "description": "Update Aadhaar details and download e-Aadhaar.",
                    "keywords": ["aadhaar update", "uid", "identity proof"]
                },
                {
                    "id": "4",
                    "title": "DigiLocker",
                    "url": "https://www.digilocker.gov.in",
                    "category": "Digital Services",
                    "description": "Secure cloud-based platform for document verification.",
                    "keywords": ["e-locker", "driving license", "marksheet"]
                },
                {
                    "id": "5",
                    "title": "Parivahan",
                    "url": "https://parivahan.gov.in",
                    "category": "Transport",
                    "description": "Vehicle registration and driving license application.",
                    "keywords": ["vahan", "sarathi", "challan"]
                }
            ];

            // Update Count
            document.getElementById('linkCount').textContent = governmentLinks.length;

            // Show a code-style preview so you can see the ID is there
            document.getElementById('jsonPreview').innerHTML = '<pre>' + JSON.stringify(governmentLinks.slice(0, 2), null, 2) + '\n  ... more links' + '</pre>';

            // Download functionality
            document.getElementById('downloadBtn').addEventListener('click', function() {
                // FIXED: We are NOT removing ID anymore. 
                // We map all fields including id.
                const finalData = governmentLinks.map(link => ({
                    id: link.id, // ID is now kept!
                    title: link.title,
                    url: link.url,
                    category: link.category,
                    description: link.description,
                    keywords: link.keywords
                }));

                const jsonString = JSON.stringify(finalData, null, 2);
                const blob = new Blob([jsonString], { type: 'application/json' });
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'links.json';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                window.URL.revokeObjectURL(url);
            });
        })();
    </script>
</body>
</html>
